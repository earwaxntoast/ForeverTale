/* Barrel Distortion - Convex CRT Glass Effect */

.barrel-outer {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  /* Rounded corners simulate curved glass edges */
  border-radius: 20px;
}

.barrel-perspective {
  width: 100%;
  height: 100%;
  /* Perspective creates depth illusion */
  perspective-origin: center center;
  transform-style: preserve-3d;
}

.barrel-content {
  width: 100%;
  height: 100%;
  transform-origin: center center;
  transform-style: preserve-3d;
  /* Subtle bulge effect using 3D transform */
  backface-visibility: hidden;
}

/* Edge shadow overlay creates the curved glass depth illusion */
.barrel-edge-shadow {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 100;

  /* Radial gradient that darkens edges - simulates light refraction on curved glass */
  background: radial-gradient(
    ellipse 80% 70% at 50% 50%,
    transparent 0%,
    transparent 50%,
    rgba(0, 0, 0, 0.15) 70%,
    rgba(0, 0, 0, 0.4) 85%,
    rgba(0, 0, 0, 0.7) 100%
  );

  /* Additional curved shadow at corners */
  box-shadow:
    inset 0 0 100px 20px rgba(0, 0, 0, 0.3),
    inset 0 0 200px 50px rgba(0, 0, 0, 0.15);

  border-radius: inherit;
}

/* Glass reflection highlight - subtle curved light reflection */
.barrel-outer::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 100%;
  pointer-events: none;
  z-index: 101;
  background: radial-gradient(
    ellipse 30% 20% at 30% 20%,
    rgba(255, 255, 255, 0.06) 0%,
    transparent 50%
  );
  transform: rotate(-15deg);
}

/* Curved edge distortion simulation using pseudo-elements */
.barrel-outer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 99;
  /* Creates illusion of glass thickness at edges */
  border: 2px solid transparent;
  border-radius: inherit;
  background:
    linear-gradient(to right, rgba(0,0,0,0.3) 0%, transparent 3%, transparent 97%, rgba(0,0,0,0.3) 100%),
    linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, transparent 3%, transparent 97%, rgba(0,0,0,0.3) 100%);
  background-origin: border-box;
  background-clip: padding-box;
}
